<template name="chatRoomPage">
  <div class="d-flex justify-content-between flex-column  w-100 vh-100 ">
    {{!--    헤더--}}
    <div class="p-1 d-flex justify-content-between w-100 border">
      <button class="room_back btn btn-dark">뒤로</button>
      <h3>CHAT</h3>
      <button class="room_out btn btn-dark">나가기</button>
    </div>

    {{!--    메인--}}
    <div class="flex-grow-1 position-relative">
      <div id="scroll-box" class="overflow-auto position-absolute top-0 bottom-0 start-0 end-0">
        {{#if Template.subscriptionsReady }}
          <ul class="p-4">
            {{#each item in list }}
              {{#if text_color item }}
                <li class="p-2 d-flex flex-column {{text_location item}}">
                  <span class="p-1">
                    {{ item.username }}
                  </span>
                  <span class="p-2 fw-semibold rounded-pill {{text_color item}} ">
                    {{ item.message }}
                  </span>
                  <span class="p-1">
                    {{ getDate item.createdAt }}
                  </span>
                </li>
              {{/if}}
            {{/each}}
          </ul>
        {{ else }}
          <button class="btn btn-primary" type="button" disabled>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Loading...
          </button>
        {{/if}}
      </div>
    </div>

    {{!--    입력창--}}
    <form class="d-flex w-100 ">
      <textarea style="resize: none" autofocus class="form-control p-3 bi-textarea-resize" rows="5" aria-label="With textarea"
                name="text" placeholder="채팅을 입력해주세요"></textarea>
      <input class="chat_button p-2 btn btn-outline-dark" type="button" value="전송">
    </form>
  </div>
</template>

